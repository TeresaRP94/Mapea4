<html>

<head>
   <meta charset="utf-8">
   <title>Mocha Tests</title>
   <link href="../../../../libraries/mocha/mocha.css" rel="stylesheet" />
</head>

<body>
   <div id="mocha"></div>
   <div id="mapa"></div>
   <div id="constructor-tests"></div>

   <!-- libraries -->
   <script src="../../../../libraries/babel-polyfill/browser-polyfill.js"></script>
   <script src="../../../../libraries/chai/chai.js"></script>
   <script src="../../../../libraries/mocha/mocha.js"></script>
   <script src="../../../../build/core/4.0.0-SNAPSHOT/js/mapea.ol3.min.js"></script>

   <!-- tests -->
   <script src="../../main-suite.js"></script>
   <script src="js/asserts/asserts.js"></script>
   <script src="js/suites/suite-wms-layer.js"></script>
   <script src="js/suites/suite-wms-obj.js"></script>
   <script src="js/suites/suite-addWMS.js"></script>
   <script src="js/suites/suite-getWMS.js"></script>
   <script src="js/suites/suite-removeWMS.js"></script>
   <script src="js/suites/suite-addLayers.js"></script>
   <script src="js/suites/suite-getLayers.js"></script>
   <script src="js/suites/suite-removeLayers.js"></script>
   <script src="js/suites/suite-constructor-wms.js"></script>
   <script src="js/suites/suite-constructor-layer.js"></script>
   <script type="text/javascript">
      mapeaSuite('Capas WMS', function () {
         // params
         // wms 1
         window.URL_WMS = 'http://www.ideandalucia.es/wms/mta400v_2008?';
         window.NAME_WMS = 'Redes_energeticas';
         window.TITLE_WMS = 'Redes';
         window.TRANSPARENCE_WMS = true;
         window.TILED_WMS = true;
         window.CQL_WMS = "INTERSECT(the_geom,%20POINT%20(-74.817265%2040.5296504));TATE_NAME IN ('New York', 'California', 'Montana', 'Texas')";
         window.VERSION_WMS = '1.1.1';
         // wms 2
         window.URL_WMS_2 = 'http://www.ideandalucia.es/wms/mta10v_2007?';
         window.NAME_WMS_2 = 'Limites';
         window.TITLE_WMS_2 = 'Limites';
         window.TRANSPARENCE_WMS_2 = false;
         window.TILED_WMS_2 = true;
         // wms_full
         window.WMS_FULL_URL = 'http://www.juntadeandalucia.es/medioambiente/mapwms/REDIAM_Permeabilidad_Andalucia?';
         window.WMS_FULL_TILED = true;
         // wms type
         window.WMS = 'WMS';
         window.wmS = 'wmS';
         // wms_full type
         window.WMS_FULL = 'WMS_FULL';
         window.wmS_Full = 'wmS_Full';

         window.map;

         suiteSetup(function () {
            // supress console logging
            if (window.console && window.console.error) {
               window.console.error = function () {};
            }
         });

         setup(function () {
            map = M.map('mapa');
         });

         teardown(function () {
            map.destroy();
         });

         mapeaSuite.wms.object();
         mapeaSuite.wms.layer();
         mapeaSuite.wms.addWMS();
         mapeaSuite.wms.getWMS();
         mapeaSuite.wms.removeWMS();
         mapeaSuite.wms.addLayers();
         mapeaSuite.wms.getLayers();
         mapeaSuite.wms.removeLayers();
         mapeaSuite.wms.constructorWMS();
         mapeaSuite.wms.constructorLayer();
      });
   </script>
</body>

</html>