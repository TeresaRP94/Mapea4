<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="mapea" content="yes">
    <link rel="shortcut icon" href="http://www.juntadeandalucia.es/fomentoyvivienda/NodoIDE/Visualizadores/VisualizadorAreasConservacion/imagenes/favicon_verde.ico" />
    <title>Visualizador Exploca</title>

    <!-- styles -->
    <link href="http://192.168.60.226:8080/mapea/assets/css/mapea.ol.min.css" rel="stylesheet" />
    <style rel="stylesheet">
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
      }
    </style>


  </head>

  <body>
    <!-- container -->
    <div id="mapjs" class="container"></div>



    <script type="text/javascript" src="http://192.168.60.226:8080/mapea/vendor/browser-polyfill.js"></script>
    <script type="text/javascript" src="http://192.168.60.226:8080/mapea/js/mapea.ol.min.js"></script>
    <!-- configuration -->
    <script type="text/javascript" src="http://192.168.60.226:8080/mapea/js/configuration.js"></script>



    <script type="application/javascript">
      M.proxy(true);
      var mapajs = M.map({
        'container': 'mapjs',
        "controls": ["layerswitcher", "mouse", "scale", "overviewmap", "panzoombar", "scaleline"],
      });

      let style = new M.style.Point({
        fill: {
          color: 'red'
        },
        stroke: {
          color: 'black',
          width: 2
        },
        radius: 2
      });

      let style2 = new M.style.Point({
        fill: {
          color: 'black'
        },
        stroke: {
          color: 'red',
          width: 1
        },
        radius: 3
      });

      let feature = new M.Feature('feature', {
        "type": "Feature",
        "properties": {
          "styleType": "privado"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [308241.7352,
            4169727.5908
          ]
        }
      }, style);

      let feature2 = new M.Feature('feature2', {
        "type": "Feature",
        "properties": {
          "styleType": "public"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [408685.7378,
            4069564.8875
          ]
        }
      }, style2);

      let feature3 = new M.Feature('feature3', {
        "type": "Feature",
        "properties": {
          "styleType": "concertado"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [356797.6796,
            4138337.8894
          ]
        }
      }, style);

      let feature4 = new M.Feature('feature4', {
        "type": "Feature",
        "properties": {
          "styleType": "religiosos"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [259195.3268,
            4099100.7627
          ]
        }
      }, style);

      let feature5 = new M.Feature('feature5', {
        "type": "Feature",
        "properties": {
          "styleType": "religiosos"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [408685.7378,
            4069564.8875
          ]
        }
      }, style);

      let layer = new M.layer.Vector({
        name: 'layerVector'
      });

      mapajs.addLayers([layer]);
      layer.addFeatures([feature, feature2, feature3, feature4]);
      //layer.addFeatures([feature5, feature4, feature3]);


      let verde = new M.style.Point({
        fill: {
          color: 'green'
        },
        stroke: {
          color: 'green',
          width: 1
        },
        radius: 6
      });
      let amarillo = new M.style.Point({
        fill: {
          color: 'yellow'
        },
        stroke: {
          color: 'yellow',
          width: 1
        },
        radius: 3
      });
      let rojo = new M.style.Point({
        fill: {
          color: 'red'
        },
        stroke: {
          color: 'red',
          width: 1
        },
        radius: 6
      });

      let azul = new M.style.Point({
        fill: {
          color: 'blue'
        },
        stroke: {
          color: 'blue',
          width: 1
        },
        radius: 6
      });



      let categoryStyle = new M.style.Category("styleType", {
        "public": verde,
        "concertado": amarillo,
        "privado": rojo,
      });



      layer.setStyle(categoryStyle);

      categoryStyle.setStyleForCategories("privado", azul);

      /*Cambia el estilo de un tipo dado
       */
    </script>
  </body>

</html>
